define ("report_mystudent/attendance",["jquery","core/ajax","core/log"],function(a,b,c){'use strict';function d(a,b){var c=this;c.username=a;c.campus=b}d.prototype.main=function(){var a=this;a.setupEvents()};d.prototype.setupEvents=function(){var b=this;a(".attendance-rollmarking").on("custom.getAttendanceRollmarking",function(){b.getAttendanceRollmarking()});a(".attendance-rollmarking").click(function(){a(this).trigger("custom.getAttendanceRollmarking")})};d.prototype.getAttendanceRollmarking=function(){var d=this,e=d.username,f=d.campus;a("#attendance-based-on-rollmarking-table").removeAttr("hidden");a("#attendance-based-on-rollmarking-show").toggle();a("#attendance-based-on-rollmarking-hide").toggle();b.call([{methodname:"report_mystudent_get_attendance_rollmarking_context",args:{username:e,campus:f},done:function done(b){var c=b.html;a("#attendance-based-on-rollmarking-table").attr("hidden",!0);a("[data-region=\"attendance-rollmarking\"]").replaceWith(c)},fail:function fail(b){c.error("block_attendance_report_get_attendance_rollmarking_context: Unable to get context.");c.debug(b);a("[data-region=\"rm-table-container\"]").replaceWith("<p class=\"alert alert-danger\">Data not available. Please try later</p>")}}])};return{init:function(){c.debug("mystudent: attendance report : initialising controls");var a=document.getElementById("rollmarking-container"),b=a.getAttribute("data-username"),e=a.getAttribute("data-campus"),f=new d(b,e);f.main()}}});
//# sourceMappingURL=attendance.min.js.map
