function _defineProperty(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else{a[b]=c}return a}define ("report_mystudent/naplan",["jquery","report_mystudent/chart","core/ajax","core/modal_factory"],function(a,b,c){'use strict';function d(){var b=document.querySelector("[data-username]").getAttribute("data-username");document.querySelector(".card-top-naplan").firstElementChild.style.display="flex";c.call([{methodname:"report_mystudent_get_naplan_result",args:{username:b},done:function done(a){var b=a.result;e(b)},fail:function fail(){document.querySelector(".card-body-naplan").firstElementChild.style.display="none";document.querySelector(".card-top-naplan").firstElementChild.style.display="none";var b=document.createElement("p");b.textContent="There was a problem when getting data. Please try again later";document.getElementById("chart-naplan").appendChild(b);a("#card-body-naplan-text").replaceWith("<p class=\"card-text alert alert-danger\" id =\"card-body-naplan-text\" >Data not available. Please try later</p>")}}])}function e(c){var d=null==c||0===Object.keys(c).length;if(d){document.querySelector(".card-top-naplan").firstElementChild.style.display="none";a("#card-body-naplan-text").replaceWith("<p class=\"card-text alert alert-danger\" id =\"card-body-academic-info-text\" >Data not available.</p>")}else{var j=document.getElementById("chart-naplan");if(!j){return}for(var e=JSON.parse(c),f=[],g=0,h;g<e.datasets.length;g++){h=_defineProperty({label:e.datasets[g].label,data:e.datasets[g].results,backgroundColor:e.datasets[g].backgroundcolor,borderColor:e.datasets[g].backgroundcolor,tension:.4,borderWidth:0,borderRadius:4,borderSkipped:!1},"borderWidth",1);f.push(h)}var k={type:"bar",labels:e.labels,data:{labels:e.labels,datasets:f},options:{scales:{y:{suggestedMax:10,min:1,title:{text:"Band",display:!0}}},interaction:{mode:"point",intersect:!1},responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:function label(a){var b="National minimun standard",c="Above the national minimun standard";if("Year 3"==a.dataset.label){if(3<=a.parsed.y){return a.dataset.label+": Band "+a.parsed.y+". "+c}else if(2==a.parse.y){return a.dataset.label+": Band "+a.parsed.y+". "+b}else{return a.dataset.label+": Band "+a.parsed.y+". "+"Below the national minimun standard"}}else if("Year 5"==a.dataset.label){if(5<=a.parsed.y){return a.dataset.label+": Band "+a.parsed.y+". "+c}else if(4==a.parse.y){return a.dataset.label+": Band "+a.parsed.y+". "+b}else{return a.dataset.label+": Band "+a.parsed.y+". "+"Below the national minimun standard"}}else if("Year 7"==a.dataset.label){if(6<=a.parsed.y){return a.dataset.label+": Band "+a.parsed.y+". "+c}else if(5==a.parse.y){return a.dataset.label+": Band "+a.parsed.y+". "+b}else{return a.dataset.label+": Band "+a.parsed.y+". "+"Below the national minimun standard"}}else if("Year 9"==a.dataset.label){if(7<=a.parsed.y){return a.dataset.label+": Band "+a.parsed.y+". "+c}else if(6==a.parse.y){return a.dataset.label+": Band "+a.parsed.y+". "+b}else{return a.dataset.label+": Band "+a.parsed.y+". "+"Below the national minimun standard"}}}}}},legend:{position:"top"}}};document.querySelector(".card-top-naplan").firstElementChild.style.display="none";new b(j,k)}}function f(){a("a.naplan-scale").on("click",function(){var a=document.getElementById("myModal");a.style.display="block"})}function g(){a("i.cgs-naplan-close").on("click",function(){var a=document.getElementById("myModal");a.style.display="none"})}return{init:function(){d();f();g();window.onclick=function(a){var b=document.getElementById("myModal");if(a.target==document.getElementById("myModal")){b.style.display="none"}}}}});
//# sourceMappingURL=naplan.min.js.map
