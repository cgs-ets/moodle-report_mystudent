function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}
//  * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
define("report_mystudent/naplan",["jquery","report_mystudent/chart","core/ajax","core/modal_factory"],(function($,Chart,Ajax,ModalFactory){return{init:function(){var username;username=document.querySelector("[data-username]").getAttribute("data-username"),document.querySelector(".card-top-naplan").firstElementChild.style.display="flex",Ajax.call([{methodname:"report_mystudent_get_naplan_result",args:{username:username},done:function(response){!function(result){if(null==result||0===Object.keys(result).length)document.querySelector(".card-top-naplan").firstElementChild.style.display="none",$("#card-body-naplan-text").replaceWith('<p class="card-text alert alert-danger" id ="card-body-academic-info-text" >Data not available.</p>');else{var ctx=document.getElementById("chart-naplan");if(!ctx)return;for(var results=JSON.parse(result),datasets=[],i=0;i<results.datasets.length;i++){var data=_defineProperty({label:results.datasets[i].label,data:results.datasets[i].results,backgroundColor:results.datasets[i].backgroundcolor,borderColor:results.datasets[i].backgroundcolor,tension:.4,borderWidth:0,borderRadius:4,borderSkipped:!1},"borderWidth",1);datasets.push(data)}var config={type:"bar",labels:results.labels,data:{labels:results.labels,datasets:datasets},options:{scales:{y:{suggestedMax:10,min:1,title:{text:"Band",display:!0}}},interaction:{mode:"point",intersect:!1},responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:function(context){var belowStd="Below the national minimun standard",minStd="National minimun standard",aboveStd="Above the national minimun standard";return"Year 3"==context.dataset.label?context.parsed.y>=3?context.dataset.label+": Band "+context.parsed.y+". "+aboveStd:2==context.parse.y?context.dataset.label+": Band "+context.parsed.y+". "+minStd:context.dataset.label+": Band "+context.parsed.y+". "+belowStd:"Year 5"==context.dataset.label?context.parsed.y>=5?context.dataset.label+": Band "+context.parsed.y+". "+aboveStd:4==context.parse.y?context.dataset.label+": Band "+context.parsed.y+". "+minStd:context.dataset.label+": Band "+context.parsed.y+". "+belowStd:"Year 7"==context.dataset.label?context.parsed.y>=6?context.dataset.label+": Band "+context.parsed.y+". "+aboveStd:5==context.parse.y?context.dataset.label+": Band "+context.parsed.y+". "+minStd:context.dataset.label+": Band "+context.parsed.y+". "+belowStd:"Year 9"==context.dataset.label?context.parsed.y>=7?context.dataset.label+": Band "+context.parsed.y+". "+aboveStd:6==context.parse.y?context.dataset.label+": Band "+context.parsed.y+". "+minStd:context.dataset.label+": Band "+context.parsed.y+". "+belowStd:void 0}}}},legend:{position:"top"}}};document.querySelector(".card-top-naplan").firstElementChild.style.display="none",new Chart(ctx,config)}}(response.result)},fail:function(reason){console.log(reason),document.querySelector(".card-body-naplan").firstElementChild.style.display="none",document.querySelector(".card-top-naplan").firstElementChild.style.display="none";var pelement=document.createElement("p");pelement.textContent="There was a problem when getting data. Please try again later",document.getElementById("chart-naplan").appendChild(pelement),$("#card-body-naplan-text").replaceWith('<p class="card-text alert alert-danger" id ="card-body-naplan-text" >Data not available. Please try later</p>')}}]),$("a.naplan-scale").on("click",(function(e){document.getElementById("myModal").style.display="block"})),$("i.cgs-naplan-close").on("click",(function(e){document.getElementById("myModal").style.display="none"})),window.onclick=function(event){var modal=document.getElementById("myModal");event.target==document.getElementById("myModal")&&(modal.style.display="none")}}}}));

//# sourceMappingURL=naplan.min.js.map