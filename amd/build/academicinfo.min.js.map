{"version":3,"sources":["../src/academicinfo.js"],"names":["define","$","Log","Chart","Ajax","getGradesEffortTrend","username","document","querySelector","getAttribute","campus","getElementById","style","display","firstElementChild","call","methodname","args","done","response","htmlResult","result","debug","trendChartSenior","trendChartPrimary","fail","reason","replaceWith","isEmpty","Object","keys","length","ctx","performance","JSON","parse","labels","sets","attendance","effort","grades","gradeperterm","TAGS","avgattendance","avgeffort","avggrades","i","p","year","details","toString","term","push","label","data","fill","borderColor","backgroundColor","tension","spanGaps","type","datasets","options","responsive","maintainAspectRatio","TAGS_EFFORTS_DESC","e","vg","avg","ni","TAGS_GRADES_DESC","be","gs","ms","grwi","ae","effortaverage","percentageattended","plugins","tooltip","callbacks","context","dataset","parsed","y","parseFloat","scales","suggestedMin","filterYear","input","filter","table","tr","td","txtValue","value","toUpperCase","getElementsByTagName","textContent","innerText","date","split","pop","indexOf","filterByClass","inputid","target","id","trclasslist","classList","contains","displayReportService","tdocumentsseq","base64Data","blob","displayReport","error","fetch","base64Response","blobURL","URL","createObjectURL","window","open","getGradeHistory","element","removeAttr","html","attr","getEffortHistory","getAssign","popup","container","modalcontainer","remove","add","setAttribute","Y","log","closest","addEventListener","closePopup","removeEventListener","gradepopup","modalcontentdiv","init","origin","querySelectorAll","forEach","icon"],"mappings":"kYAqBAA,OAAM,iCAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,wBAAvB,CAAiD,WAAjD,CAAD,CAAgE,SAAUC,CAAV,CAAaC,CAAb,CAAkBC,CAAlB,CAAyBC,CAAzB,CAA+B,CACjG,aAqBA,QAASC,CAAAA,CAAT,EAAgC,IAEtBC,CAAAA,CAAQ,CAAGC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CC,YAA1C,CAAuD,eAAvD,CAFW,CAGtBC,CAAM,CAAGH,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCC,YAAxC,CAAqD,aAArD,CAHa,CAK5BF,QAAQ,CAACI,cAAT,CAAwB,SAAxB,EAAmCC,KAAnC,CAAyCC,OAAzC,CAAmD,MAAnD,CACAN,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CM,iBAA7C,CAA+DF,KAA/D,CAAqEC,OAArE,CAA+E,MAA/E,CAEAT,CAAI,CAACW,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,yCADL,CAEPC,IAAI,CAAE,CACFX,QAAQ,CAAEA,CADR,CAEFI,MAAM,CAAEA,CAFN,CAFC,CAOPQ,IAAI,CAAE,cAAUC,CAAV,CAAoB,CACtB,GAAMC,CAAAA,CAAU,CAAGD,CAAQ,CAACE,MAA5B,CACAnB,CAAG,CAACoB,KAAJ,CAAUF,CAAV,EAEA,GAAc,QAAV,EAAAV,CAAJ,CAAwB,CACpBa,CAAgB,CAACH,CAAD,CACnB,CAFD,IAEO,CACHI,CAAiB,CAACJ,CAAD,CACpB,CACJ,CAhBM,CAkBPK,IAAI,CAAE,cAAUC,CAAV,CAAkB,CACpBxB,CAAG,CAACoB,KAAJ,CAAUI,CAAV,EAEAnB,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CM,iBAA7C,CAA+DF,KAA/D,CAAqEC,OAArE,CAA+E,MAA/E,CACAZ,CAAC,CAAC,+BAAD,CAAD,CAAmC0B,WAAnC,CAA+C,0HAA/C,CACH,CAvBM,CAAD,CAAV,CA0BH,CAED,QAASJ,CAAAA,CAAT,CAA0BF,CAA1B,CAAkC,CAC9B,GAAMO,CAAAA,CAAO,CAAa,IAAV,EAAAP,CAAM,EAA2C,CAA/B,GAAAQ,MAAM,CAACC,IAAP,CAAYT,CAAZ,EAAoBU,MAAtD,CACA,GAAIH,CAAJ,CAAa,CACTrB,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CM,iBAA7C,CAA+DF,KAA/D,CAAqEC,OAArE,CAA+E,MAA/E,CACAZ,CAAC,CAAC,+BAAD,CAAD,CAAmC0B,WAAnC,CAA+C,yGAA/C,CACH,CAHD,IAGO,CAEH,GAAMK,CAAAA,CAAG,CAAGzB,QAAQ,CAACI,cAAT,CAAwB,gBAAxB,CAAZ,CACA,GAAI,CAACqB,CAAL,CAAU,CACN,MACH,CAgBD,OAdMC,CAAAA,CAAW,CAAGC,IAAI,CAACC,KAAL,CAAWd,CAAX,CAcpB,CAbIe,CAAM,CAAG,EAab,CAZIC,CAAI,CAAG,EAYX,CAXIC,CAAU,CAAG,EAWjB,CAVIC,CAAM,CAAG,EAUb,CATIC,CAAM,CAAG,EASb,CARIC,CAAY,CAAG,EAQnB,CANMC,CAAI,CAAG,CACTC,aAAa,CAAE,oBADN,CAETC,SAAS,CAAE,gBAFF,CAGTC,SAAS,CAAE,eAHF,CAMb,CAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGb,CAAW,CAACF,MAAhC,CAAwCe,CAAC,EAAzC,CAA6C,IACrCC,CAAAA,CAAC,CAAGd,CAAW,CAACa,CAAD,CADsB,CAGnCE,CAAI,CAAGD,CAAC,CAACE,OAAF,CAAUD,IAAV,CAAeE,QAAf,EAH4B,CAInCC,CAAI,CAAGJ,CAAC,CAACE,OAAF,CAAUE,IAAV,CAAeD,QAAf,EAJ4B,CAMzCd,CAAM,CAACgB,IAAP,CAAY,CAAC,IAAMD,CAAP,CAAaH,CAAb,CAAZ,EACAP,CAAY,CAACW,IAAb,CAAkBL,CAAC,CAACE,OAAF,CAAUJ,SAA5B,EAEAL,CAAM,CAACY,IAAP,CAAYL,CAAC,CAACE,OAAF,CAAUJ,SAAtB,EACAN,CAAM,CAACa,IAAP,CAAYL,CAAC,CAACE,OAAF,CAAUL,SAAtB,EACAN,CAAU,CAACc,IAAX,CAAgBL,CAAC,CAACE,OAAF,CAAUN,aAA1B,CAEH,CAEDN,CAAI,CAACe,IAAL,CAAU,CACNC,KAAK,CAAEX,CAAI,CAACG,SADN,CAENS,IAAI,CAAEd,CAFA,CAGNe,IAAI,GAHE,CAINC,WAAW,CAAE,SAJP,CAKNC,eAAe,CAAE,SALX,CAMNC,OAAO,CAAE,EANH,CAONC,QAAQ,GAPF,CAAV,EAUAtB,CAAI,CAACe,IAAL,CAAU,CACNC,KAAK,CAAEX,CAAI,CAACE,SADN,CAENU,IAAI,CAAEf,CAFA,CAGNgB,IAAI,GAHE,CAINC,WAAW,CAAE,SAJP,CAKNC,eAAe,CAAE,SALX,CAMNC,OAAO,CAAE,EANH,CAONC,QAAQ,GAPF,CAAV,EAUAtB,CAAI,CAACe,IAAL,CAAU,CACNC,KAAK,CAAEX,CAAI,CAACC,aADN,CAENW,IAAI,CAAEhB,CAFA,CAGNiB,IAAI,GAHE,CAINC,WAAW,CAAE,SAJP,CAKNC,eAAe,CAAE,SALX,CAMNC,OAAO,CAAE,EANH,CAONC,QAAQ,GAPF,CAAV,EAuBApD,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CM,iBAA7C,CAA+DF,KAA/D,CAAqEC,OAArE,CAA+E,MAA/E,CAEA,GAAIV,CAAAA,CAAJ,CAAU6B,CAAV,CAAe,CACX4B,IAAI,CAAE,MADK,CAEXN,IAAI,CAhBK,CACTlB,MAAM,CAAEA,CADC,CAETyB,QAAQ,CAAExB,CAFD,CAcE,CAGXyB,OAAO,CAZK,CACZC,UAAU,GADE,CAEZC,mBAAmB,GAFP,CASD,CAAf,CAMH,CAEJ,CAED,QAASxC,CAAAA,CAAT,CAA2BH,CAA3B,CAAmC,CAC/B,GAAMW,CAAAA,CAAG,CAAGzB,QAAQ,CAACI,cAAT,CAAwB,gBAAxB,CAAZ,CACA,GAAI,CAACqB,CAAL,CAAU,CACN,MACH,CA+BD,OA7BMC,CAAAA,CAAW,CAAGC,IAAI,CAACC,KAAL,CAAWd,CAAX,CA6BpB,CA3BIe,CAAM,CAAG,EA2Bb,CA1BIC,CAAI,CAAG,EA0BX,CAzBIC,CAAU,CAAG,EAyBjB,CAxBIC,CAAM,CAAG,EAwBb,CAvBIC,CAAM,CAAG,EAuBb,CArBME,CAAI,CAAG,CACTC,aAAa,CAAE,oBADN,CAETC,SAAS,CAAE,gBAFF,CAGTC,SAAS,CAAE,eAHF,CAqBb,CAfMoB,CAAiB,CAAG,CACtBC,CAAC,CAAE,eADmB,CAEtBC,EAAE,CAAE,gBAFkB,CAGtBC,GAAG,CAAE,eAHiB,CAItBC,EAAE,CAAE,wBAJkB,CAe1B,CARMC,CAAgB,CAAG,CACrBC,EAAE,CAAE,oBADiB,CAErBC,EAAE,CAAE,iBAFiB,CAGrBC,EAAE,CAAE,qBAHiB,CAIrBC,IAAI,CAAE,uBAJe,CAKrBC,EAAE,CAAE,oBALiB,CAQzB,CAAS7B,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGb,CAAW,CAACF,MAAhC,CAAwCe,CAAC,EAAzC,CAA6C,IACrCC,CAAAA,CAAC,CAAGd,CAAW,CAACa,CAAD,CADsB,CAGnCE,CAAI,CAAGD,CAAC,CAACE,OAAF,CAAUD,IAAV,CAAeE,QAAf,EAH4B,CAInCC,CAAI,CAAGJ,CAAC,CAACE,OAAF,CAAUE,IAAV,CAAeD,QAAf,EAJ4B,CAMzCd,CAAM,CAACgB,IAAP,CAAY,CAAC,IAAMD,CAAP,CAAaH,CAAb,CAAZ,EAEA,GAA2B,IAAvB,EAAAD,CAAC,CAACE,OAAF,CAAUJ,SAAd,CAAiC,CAC7BE,CAAC,CAACE,OAAF,CAAUJ,SAAV,OACH,CACDL,CAAM,CAACY,IAAP,CAAYL,CAAC,CAACE,OAAF,CAAUJ,SAAtB,EAEA,GAA+B,IAA3B,EAAAE,CAAC,CAACE,OAAF,CAAU2B,aAAd,CAAqC,CACjC7B,CAAC,CAACE,OAAF,CAAU2B,aAAV,OACH,CACDrC,CAAM,CAACa,IAAP,CAAYL,CAAC,CAACE,OAAF,CAAU2B,aAAtB,EAEA,GAAoC,IAAhC,EAAA7B,CAAC,CAACE,OAAF,CAAU4B,kBAAd,CAA0C,CACtC9B,CAAC,CAACE,OAAF,CAAU4B,kBAAV,OACH,CACDvC,CAAU,CAACc,IAAX,CAAgBL,CAAC,CAACE,OAAF,CAAU4B,kBAA1B,CAEH,CAEDxC,CAAI,CAACe,IAAL,CAAU,CACNC,KAAK,CAAEX,CAAI,CAACG,SADN,CAENS,IAAI,CAAEd,CAFA,CAGNe,IAAI,GAHE,CAINC,WAAW,CAAE,SAJP,CAKNC,eAAe,CAAE,SALX,CAMNC,OAAO,CAAE,EANH,CAONC,QAAQ,GAPF,CAAV,EAUAtB,CAAI,CAACe,IAAL,CAAU,CACNC,KAAK,CAAEX,CAAI,CAACE,SADN,CAENU,IAAI,CAAEf,CAFA,CAGNgB,IAAI,GAHE,CAINC,WAAW,CAAE,SAJP,CAKNC,eAAe,CAAE,SALX,CAMNC,OAAO,CAAE,EANH,CAONC,QAAQ,GAPF,CAAV,EAUAtB,CAAI,CAACe,IAAL,CAAU,CACNC,KAAK,CAAEX,CAAI,CAACC,aADN,CAENW,IAAI,CAAEhB,CAFA,CAGNiB,IAAI,GAHE,CAINC,WAAW,CAAE,SAJP,CAKNC,eAAe,CAAE,SALX,CAMNC,OAAO,CAAE,EANH,CAONC,QAAQ,GAPF,CAAV,EAiEApD,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CM,iBAA7C,CAA+DF,KAA/D,CAAqEC,OAArE,CAA+E,MAA/E,CAEA,GAAIV,CAAAA,CAAJ,CAAU6B,CAAV,CAAe,CACX4B,IAAI,CAAE,MADK,CAEXN,IAAI,CA3DK,CACTlB,MAAM,CAAEA,CADC,CAETyB,QAAQ,CAAExB,CAFD,CAyDE,CAGXyB,OAAO,CAvDK,CACZC,UAAU,GADE,CAEZC,mBAAmB,GAFP,CAGZc,OAAO,CAAE,CACLC,OAAO,CAAE,CACLC,SAAS,CAAE,CACP3B,KAAK,CAAE,eAAU4B,CAAV,CAAmB,CAEtB,GAAIA,CAAO,CAACC,OAAR,CAAgB7B,KAAhB,EAAyBX,CAAI,CAACG,SAAlC,CAA6C,CAEzC,GAAuB,CAAnB,CAAAoC,CAAO,CAACE,MAAR,CAAeC,CAAf,EAA+C,EAApB,EAAAH,CAAO,CAACE,MAAR,CAAeC,CAA9C,CAA0D,CACtD,MAAOd,CAAAA,CAAgB,CAACC,EAC3B,CAFD,IAEO,IAAuB,EAAnB,CAAAU,CAAO,CAACE,MAAR,CAAeC,CAAf,EAAgD,EAApB,EAAAH,CAAO,CAACE,MAAR,CAAeC,CAA/C,CAA2D,CAC9D,MAAOd,CAAAA,CAAgB,CAACE,EAC3B,CAFM,IAEA,IAAuB,EAAnB,CAAAS,CAAO,CAACE,MAAR,CAAeC,CAAf,EAAgD,EAApB,EAAAH,CAAO,CAACE,MAAR,CAAeC,CAA/C,CAA2D,CAC9D,MAAOd,CAAAA,CAAgB,CAACG,EAC3B,CAFM,IAEA,IAAuB,EAAnB,CAAAQ,CAAO,CAACE,MAAR,CAAeC,CAAf,EAAgD,EAApB,EAAAH,CAAO,CAACE,MAAR,CAAeC,CAA/C,CAA2D,CAC9D,MAAOd,CAAAA,CAAgB,CAACI,IAC3B,CAFM,IAEA,IAAuB,EAAnB,CAAAO,CAAO,CAACE,MAAR,CAAeC,CAAnB,CAA8B,CACjC,MAAOd,CAAAA,CAAgB,CAACK,EAC3B,CACJ,CACD,GAAIM,CAAO,CAACC,OAAR,CAAgB7B,KAAhB,EAAyBX,CAAI,CAACE,SAAlC,CAA6C,CACzC,GAAmC,CAA/B,CAAAyC,UAAU,CAACJ,CAAO,CAACE,MAAR,CAAeC,CAAhB,CAAV,EAAuE,EAAhC,EAAAC,UAAU,CAACJ,CAAO,CAACE,MAAR,CAAeC,CAAhB,CAArD,CAAkF,CAC9E,MAAOnB,CAAAA,CAAiB,CAACI,EAC5B,CAFD,IAEO,IAAmC,EAA/B,CAAAgB,UAAU,CAACJ,CAAO,CAACE,MAAR,CAAeC,CAAhB,CAAV,EAAwE,EAAhC,EAAAC,UAAU,CAACJ,CAAO,CAACE,MAAR,CAAeC,CAAhB,CAAtD,CAAmF,CACtF,MAAOnB,CAAAA,CAAiB,CAACG,GAC5B,CAFM,IAEA,IAAmC,EAA/B,CAAAiB,UAAU,CAACJ,CAAO,CAACE,MAAR,CAAeC,CAAhB,CAAV,EAAuE,EAA/B,CAAAC,UAAU,CAACJ,CAAO,CAACE,MAAR,CAAeC,CAAhB,CAAtD,CAAkF,CACrF,MAAOnB,CAAAA,CAAiB,CAACE,EAC5B,CAFM,IAEA,IAAoC,EAAhC,EAAAkB,UAAU,CAACJ,CAAO,CAACE,MAAR,CAAeC,CAAhB,CAAd,CAA2C,CAC9C,MAAOnB,CAAAA,CAAiB,CAACC,CAC5B,CACJ,CAVD,IAUO,CAEH,MAAOe,CAAAA,CAAO,CAACE,MAAR,CAAeC,CAAf,CAAmB,GAC7B,CACJ,CA/BM,CADN,CADJ,CAHG,CAwCZE,MAAM,CAAE,CACJF,CAAC,CAAE,CACCG,YAAY,CAAE,EADf,CAEC1E,OAAO,GAFR,CADC,CAxCI,CAoDD,CAAf,CAKH,CAGD,QAAS2E,CAAAA,CAAT,EAAsB,CAGlB,GAAIC,CAAAA,CAAJ,CAAWC,CAAX,CAAmBC,CAAnB,CAA0BC,CAA1B,CAA8BC,CAA9B,CAAkC/C,CAAlC,CAAqCgD,CAArC,CACAL,CAAK,CAAGlF,QAAQ,CAACI,cAAT,CAAwB,mBAAxB,CAAR,CACA+E,CAAM,CAAGD,CAAK,CAACM,KAAN,CAAYC,WAAZ,EAAT,CACAL,CAAK,CAAGpF,QAAQ,CAACI,cAAT,CAAwB,eAAxB,CAAR,CACAiF,CAAE,CAAGD,CAAK,CAACM,oBAAN,CAA2B,IAA3B,CAAL,CAGA,IAAKnD,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG8C,CAAE,CAAC7D,MAAnB,CAA2Be,CAAC,EAA5B,CAAgC,CAC5B+C,CAAE,CAAGD,CAAE,CAAC9C,CAAD,CAAF,CAAMmD,oBAAN,CAA2B,IAA3B,EAAiC,CAAjC,CAAL,CACA,GAAIJ,CAAJ,CAAQ,CACJC,CAAQ,CAAGD,CAAE,CAACK,WAAH,EAAkBL,CAAE,CAACM,SAAhC,CACA,GAAMC,CAAAA,CAAI,CAAGN,CAAQ,CAACO,KAAT,CAAe,GAAf,EAAoBC,GAApB,EAAb,CACA,GAAyC,CAAC,CAAtC,CAAAF,CAAI,CAACJ,WAAL,GAAmBO,OAAnB,CAA2Bb,CAA3B,CAAJ,CAA6C,CACzCE,CAAE,CAAC9C,CAAD,CAAF,CAAMlC,KAAN,CAAYC,OAAZ,CAAsB,EACzB,CAFD,IAEO,CACH+E,CAAE,CAAC9C,CAAD,CAAF,CAAMlC,KAAN,CAAYC,OAAZ,CAAsB,MACzB,CACJ,CACJ,CACJ,CAED,QAAS2F,CAAAA,CAAT,CAAuBtC,CAAvB,CAA0B,IAElBuB,CAAAA,CAFkB,CAEXC,CAFW,CAEHC,CAFG,CAEIC,CAFJ,CAEQC,CAFR,CAEY/C,CAFZ,CAEegD,CAFf,CAGhBW,CAAO,CAAGvC,CAAC,CAACwC,MAAF,CAASC,EAHH,CAItBlB,CAAK,CAAGlF,QAAQ,CAACI,cAAT,CAAwB8F,CAAxB,CAAR,CACAf,CAAM,CAAGD,CAAK,CAACM,KAAN,CAAYC,WAAZ,EAAT,CACAL,CAAK,CAAc,yBAAX,EAAAc,CAAO,CAAgClG,QAAQ,CAACI,cAAT,CAAwB,qBAAxB,CAAhC,CAAiFJ,QAAQ,CAACI,cAAT,CAAwB,sBAAxB,CAAhG,CACAiF,CAAE,CAAGD,CAAK,CAACM,oBAAN,CAA2B,IAA3B,CAAL,CAGA,IAAKnD,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG8C,CAAE,CAAC7D,MAAnB,CAA2Be,CAAC,EAA5B,CAAgC,CAC5B,GAAI8D,CAAAA,CAAW,CAAGhB,CAAE,CAAC9C,CAAD,CAAF,CAAM+D,SAAxB,CACA,GAAID,CAAW,CAACE,QAAZ,CAAqB,iBAArB,GAA2CF,CAAW,CAACE,QAAZ,CAAqB,2BAArB,CAA/C,CAAkG,SAClGjB,CAAE,CAAGD,CAAE,CAAC9C,CAAD,CAAF,CAAMmD,oBAAN,CAA2B,IAA3B,EAAiC,CAAjC,CAAL,CACA,GAAIJ,CAAJ,CAAQ,CACJC,CAAQ,CAAGD,CAAE,CAACK,WAAH,EAAkBL,CAAE,CAACM,SAAhC,CAEA,GAA6C,CAAC,CAA1C,CAAAL,CAAQ,CAACE,WAAT,GAAuBO,OAAvB,CAA+Bb,CAA/B,CAAJ,CAAiD,CAC7CE,CAAE,CAAC9C,CAAD,CAAF,CAAMlC,KAAN,CAAYC,OAAZ,CAAsB,EACzB,CAFD,IAEO,CACH+E,CAAE,CAAC9C,CAAD,CAAF,CAAMlC,KAAN,CAAYC,OAAZ,CAAsB,MACzB,CACJ,CACJ,CACJ,CAED,QAASkG,CAAAA,CAAT,CAA8B7C,CAA9B,CAAiC,CAE7B,GAAM8C,CAAAA,CAAa,CAAG9C,CAAC,CAACwC,MAAF,CAASjG,YAAT,CAAsB,WAAtB,CAAtB,CACAL,CAAI,CAACW,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,8CADL,CAEPC,IAAI,CAAE,CACF+F,aAAa,CAAEA,CADb,CAFC,CAMP9F,IAAI,CAAE,cAAUC,CAAV,CAAoB,CACtB,GAAM8F,CAAAA,CAAU,CAAG/E,IAAI,CAACC,KAAL,CAAWhB,CAAQ,CAAC+F,IAApB,CAAnB,CACAC,CAAa,CAACF,CAAD,CAChB,CATM,CAWPxF,IAAI,CAAE,cAAUC,CAAV,CAAkB,CACpBxB,CAAG,CAACkH,KAAJ,CAAU,+DAAV,EACAlH,CAAG,CAACoB,KAAJ,CAAUI,CAAV,CACH,CAdM,CAAD,CAAV,CAkBH,CA5XgG,QA8XlFyF,CAAAA,CA9XkF,2FA8XjG,WAA6BF,CAA7B,4GACiCI,CAAAA,KAAK,uCAAgCJ,CAAhC,EADtC,QACUK,CADV,uBAEuBA,CAAAA,CAAc,CAACJ,IAAf,EAFvB,QAEUA,CAFV,QAGQK,CAHR,CAGkBC,GAAG,CAACC,eAAJ,CAAoBP,CAApB,CAHlB,CAIIQ,MAAM,CAACC,IAAP,CAAYJ,CAAZ,EAJJ,wCA9XiG,kCAqYjG,QAASK,CAAAA,CAAT,EAA2B,IAEjBC,CAAAA,CAAO,CAAGtH,QAAQ,CAACC,aAAT,CAAuB,wCAAvB,CAFO,CAGjBF,CAAQ,CAAGuH,CAAO,CAACpH,YAAR,CAAqB,eAArB,CAHM,CAIjBC,CAAM,CAAGmH,CAAO,CAACpH,YAAR,CAAqB,aAArB,CAJQ,CAMvBR,CAAC,CAAC,mBAAD,CAAD,CAAuB6H,UAAvB,CAAkC,QAAlC,EAEA1H,CAAI,CAACW,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,oCADL,CAEPC,IAAI,CAAE,CACFX,QAAQ,CAAEA,CADR,CAEFI,MAAM,CAAEA,CAFN,CAFC,CAOPQ,IAAI,CAAE,cAAUC,CAAV,CAAoB,CACtBjB,CAAG,CAACoB,KAAJ,CAAUH,CAAV,EACA,GAAMC,CAAAA,CAAU,CAAGD,CAAQ,CAAC4G,IAA5B,CACA9H,CAAC,CAAC,mBAAD,CAAD,CAAuB+H,IAAvB,CAA4B,QAA5B,KACA/H,CAAC,CAAC,uCAAD,CAAD,CAAyC0B,WAAzC,CAAqDP,CAArD,EAEAnB,CAAC,CAAC,gBAAD,CAAD,CAAoB6H,UAApB,CAA+B,UAA/B,CAEH,CAfM,CAiBPrG,IAAI,CAAE,cAAUC,CAAV,CAAkB,CACpBxB,CAAG,CAACkH,KAAJ,CAAU,0CAAV,EACAlH,CAAG,CAACoB,KAAJ,CAAUI,CAAV,EACAzB,CAAC,CAAC,mBAAD,CAAD,CAAuB+H,IAAvB,CAA4B,QAA5B,KACA/H,CAAC,CAAC,uCAAD,CAAD,CAAyC0B,WAAzC,CAAqD,0EAArD,CACH,CAtBM,CAAD,CAAV,CA0BH,CAED,QAASsG,CAAAA,CAAT,EAA4B,IAElBJ,CAAAA,CAAO,CAAGtH,QAAQ,CAACC,aAAT,CAAuB,wCAAvB,CAFQ,CAGlBF,CAAQ,CAAGuH,CAAO,CAACpH,YAAR,CAAqB,eAArB,CAHO,CAIlBC,CAAM,CAAGmH,CAAO,CAACpH,YAAR,CAAqB,aAArB,CAJS,CAMxBR,CAAC,CAAC,oBAAD,CAAD,CAAwB6H,UAAxB,CAAmC,QAAnC,EAEA1H,CAAI,CAACW,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,qCADL,CAEPC,IAAI,CAAE,CACFX,QAAQ,CAAEA,CADR,CAEFI,MAAM,CAAEA,CAFN,CAFC,CAOPQ,IAAI,CAAE,cAAUC,CAAV,CAAoB,CACtBjB,CAAG,CAACoB,KAAJ,CAAUH,CAAV,EACA,GAAMC,CAAAA,CAAU,CAAGD,CAAQ,CAAC4G,IAA5B,CACA9H,CAAC,CAAC,oBAAD,CAAD,CAAwB+H,IAAxB,CAA6B,QAA7B,KACA/H,CAAC,CAAC,wCAAD,CAAD,CAA0C0B,WAA1C,CAAsDP,CAAtD,EACAnB,CAAC,CAAC,eAAD,CAAD,CAAmB6H,UAAnB,CAA8B,UAA9B,CAEH,CAdM,CAgBPrG,IAAI,CAAE,cAAUC,CAAV,CAAkB,CACpBxB,CAAG,CAACkH,KAAJ,CAAU,0CAAV,EACAlH,CAAG,CAACoB,KAAJ,CAAUI,CAAV,EACAzB,CAAC,CAAC,oBAAD,CAAD,CAAwB+H,IAAxB,CAA6B,QAA7B,KACA/H,CAAC,CAAC,wCAAD,CAAD,CAA0C0B,WAA1C,CAAsD,0EAAtD,CACH,CArBM,CAAD,CAAV,CAwBH,CAED,QAASuG,CAAAA,CAAT,EAAqB,IACXL,CAAAA,CAAO,CAAGtH,QAAQ,CAACC,aAAT,CAAuB,wCAAvB,CADC,CAEXF,CAAQ,CAAGuH,CAAO,CAACpH,YAAR,CAAqB,eAArB,CAFA,CAKjBR,CAAC,CAAC,gBAAD,CAAD,CAAoB6H,UAApB,CAA+B,QAA/B,EAEA1H,CAAI,CAACW,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,qCADL,CAEPC,IAAI,CAAE,CACFX,QAAQ,CAAEA,CADR,CAFC,CAMPY,IAAI,CAAE,cAAUC,CAAV,CAAoB,CACtB,GAAMC,CAAAA,CAAU,CAAGD,CAAQ,CAAC4G,IAA5B,CACA9H,CAAC,CAAC,gBAAD,CAAD,CAAoB+H,IAApB,CAAyB,QAAzB,KACA/H,CAAC,CAAC,oCAAD,CAAD,CAAsC0B,WAAtC,CAAkDP,CAAlD,CAEH,CAXM,CAaPK,IAAI,CAAE,cAAUC,CAAV,CAAkB,CACpBxB,CAAG,CAACkH,KAAJ,CAAU,0CAAV,EACAlH,CAAG,CAACoB,KAAJ,CAAUI,CAAV,EACAzB,CAAC,CAAC,gBAAD,CAAD,CAAoB+H,IAApB,CAAyB,QAAzB,KACA/H,CAAC,CAAC,oCAAD,CAAD,CAAsC0B,WAAtC,CAAkD,0EAAlD,CACH,CAlBM,CAAD,CAAV,CAsBH,CAGD,QAASwG,CAAAA,CAAT,CAAejE,CAAf,CAAkB,IACVkE,CAAAA,CADU,CAEVC,CAFU,CAIdnE,CAAC,CAACwC,MAAF,CAASG,SAAT,CAAmByB,MAAnB,CAA0B,kBAA1B,EACApE,CAAC,CAACwC,MAAF,CAASG,SAAT,CAAmB0B,GAAnB,CAAuB,iBAAvB,EACArE,CAAC,CAACwC,MAAF,CAAS8B,YAAT,CAAsB,OAAtB,CAA+B,OAA/B,EACAC,CAAC,CAACC,GAAF,CAAMxE,CAAN,EAEA,GAAIA,CAAC,CAACwC,MAAF,CAASG,SAAT,CAAmBC,QAAnB,CAA4B,cAA5B,CAAJ,CAAiD,CAC7CsB,CAAS,CAAG7H,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCmI,OAAxC,CAAgD,iCAAhD,CAAZ,CACAN,CAAc,CAAGD,CAAS,CAACO,OAAV,CAAkB,8BAAlB,CAAjB,CACApI,QAAQ,CAACI,cAAT,CAAwB,qBAAxB,EAA+CgI,OAA/C,CAAuD,gBAAvD,EAAyE9B,SAAzE,CAAmF0B,GAAnF,CAAuF,uBAAvF,EACAF,CAAc,CAACxB,SAAf,CAAyB0B,GAAzB,CAA6B,0BAA7B,EACAhI,QAAQ,CAACC,aAAT,CAAuB,+BAAvB,EAAwDoI,gBAAxD,CAAyE,OAAzE,CAAkFC,CAAlF,EACAtI,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCsI,mBAAxC,CAA4D,OAA5D,CAAqEX,CAArE,CAGH,CATD,IASO,CACHC,CAAS,CAAG7H,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCmI,OAAzC,CAAiD,kCAAjD,CAAZ,CACAN,CAAc,CAAGD,CAAS,CAACO,OAAV,CAAkB,+BAAlB,CAAjB,CACApI,QAAQ,CAACI,cAAT,CAAwB,sBAAxB,EAAgDgI,OAAhD,CAAwD,gBAAxD,EAA0E9B,SAA1E,CAAoF0B,GAApF,CAAwF,uBAAxF,EACAF,CAAc,CAACxB,SAAf,CAAyB0B,GAAzB,CAA6B,0BAA7B,EACAhI,QAAQ,CAACC,aAAT,CAAuB,gCAAvB,EAAyDoI,gBAAzD,CAA0E,OAA1E,CAAmFC,CAAnF,EACAtI,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCsI,mBAAzC,CAA6D,OAA7D,CAAsEX,CAAtE,CACH,CACJ,CAED,QAASU,CAAAA,CAAT,CAAoB3E,CAApB,CAAuB,IACb6E,CAAAA,CAAU,CAAG7E,CAAC,CAACwC,MAAF,CAASG,SAAT,CAAmBC,QAAnB,CAA4B,cAA5B,CADA,CAEbkC,CAAe,CAAG9E,CAAC,CAACwC,MAAF,CAASG,SAAT,CAAmBC,QAAnB,CAA4B,cAA5B,EAA8C5C,CAAC,CAACwC,MAAF,CAASiC,OAAT,CAAiB,gBAAjB,CAA9C,CAAmFzE,CAAC,CAACwC,MAAF,CAASiC,OAAT,CAAiB,gBAAjB,CAFxF,CAGnBK,CAAe,CAACnC,SAAhB,CAA0ByB,MAA1B,CAAiC,uBAAjC,EAEA,GAAIS,CAAJ,CAAgB,CACXC,CAAe,CAACL,OAAhB,CAAwB,2BAAxB,CAAD,CAAuD9B,SAAvD,CAAiEyB,MAAjE,CAAwE,0BAAxE,CACH,CAFD,IAEO,CACFU,CAAe,CAACL,OAAhB,CAAwB,4BAAxB,CAAD,CAAwD9B,SAAxD,CAAkEyB,MAAlE,CAAyE,0BAAzE,CACH,CAGDpE,CAAC,CAACwC,MAAF,CAASG,SAAT,CAAmB0B,GAAnB,CAAuB,kBAAvB,EACArE,CAAC,CAACwC,MAAF,CAASG,SAAT,CAAmByB,MAAnB,CAA0B,iBAA1B,EACApE,CAAC,CAACwC,MAAF,CAAS8B,YAAT,CAAsB,OAAtB,CAA+B,QAA/B,EAEAjI,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCsI,mBAAxC,CAA4D,OAA5D,CAAqED,CAArE,EACAtI,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCsI,mBAAzC,CAA6D,OAA7D,CAAsED,CAAtE,EACAtI,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCoI,gBAAxC,CAAyD,OAAzD,CAAkET,CAAlE,EACA5H,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCoI,gBAAzC,CAA0D,OAA1D,CAAmET,CAAnE,CACH,CAyCD,MAAO,CACHc,IAAI,CAlkBR,SAAcC,CAAd,CAAsB,CAClB,GAAc,WAAV,EAAAA,CAAJ,CAA2B,CACvB7I,CAAoB,EACvB,CAFD,IAEO,CACHE,QAAQ,CAACI,cAAT,CAAwB,mBAAxB,EAA6CiI,gBAA7C,CAA8D,OAA9D,CAAuEpD,CAAvE,EACAjF,QAAQ,CAACI,cAAT,CAAwB,yBAAxB,EAAmDiI,gBAAnD,CAAoE,OAApE,CAA6EpC,CAA7E,EACAjG,QAAQ,CAACI,cAAT,CAAwB,0BAAxB,EAAoDiI,gBAApD,CAAqE,OAArE,CAA8EpC,CAA9E,EACAjG,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCoI,gBAAxC,CAAyD,OAAzD,CAAkET,CAAlE,EACA5H,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCoI,gBAAzC,CAA0D,OAA1D,CAAmET,CAAnE,EACA5H,QAAQ,CAAC4I,gBAAT,CAA0B,WAA1B,EAAuCC,OAAvC,CAA+C,SAAUC,CAAV,CAAgB,CAC3DA,CAAI,CAACT,gBAAL,CAAsB,OAAtB,CAA+B7B,CAA/B,CACH,CAFD,EAIAkB,CAAgB,GAChBC,CAAS,GACTN,CAAe,EAClB,CACJ,CAgjBM,CAGV,CAvkBK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n// /**\n//  * @package   report_mystudent\n//  * @copyright 2022 Veronica Bermegui\n//  * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n//  */\n\ndefine(['jquery', 'core/log', 'report_mystudent/chart', 'core/ajax'], function ($, Log, Chart, Ajax) {\n    'use strict';\n\n    function init(origin) {\n        if (origin == 'dashboard') {\n            getGradesEffortTrend();\n        } else { // Im in the view for this section.\n            document.getElementById(\"searchReportInput\").addEventListener('keyup', filterYear);\n            document.getElementById(\"searchByClassGradeInput\").addEventListener('keyup', filterByClass);\n            document.getElementById(\"searchByClassEffortInput\").addEventListener('keyup', filterByClass);\n            document.querySelector('.pop-up-grade').addEventListener('click', popup);\n            document.querySelector('.pop-up-effort').addEventListener('click', popup);\n            document.querySelectorAll('.file-pdf').forEach(function (icon) {\n                icon.addEventListener('click', displayReportService)\n            });\n           \n            getEffortHistory();\n            getAssign();\n            getGradeHistory(); // Takes the longest\n        }\n    }\n\n    function getGradesEffortTrend() {\n\n        const username = document.querySelector('[data-username]').getAttribute('data-username');\n        const campus = document.querySelector('[data-campus]').getAttribute('data-campus');\n\n        document.getElementById(\"overlay\").style.display = \"flex\";\n        document.querySelector('.card-img-academic').firstElementChild.style.display = \"flex\";\n\n        Ajax.call([{\n            methodname: 'report_mystudent_get_grade_effort_trend',\n            args: {\n                username: username,\n                campus: campus\n            },\n\n            done: function (response) {\n                const htmlResult = response.result;\n                Log.debug(htmlResult);\n               \n                if (campus == 'Senior') {\n                    trendChartSenior(htmlResult);\n                } else {\n                    trendChartPrimary(htmlResult);\n                }\n            },\n\n            fail: function (reason) {\n                Log.debug(reason);\n                // remove spinner\n                document.querySelector('.card-img-academic').firstElementChild.style.display = \"none\";\n                $('#card-body-academic-info-text').replaceWith('<p class=\"card-text alert alert-danger\" id =\"card-body-academic-info-text\" >Data not available. Please try later</p>');\n            }\n        }]);\n\n    };\n\n    function trendChartSenior(result) {\n        const isEmpty = result == null || Object.keys(result).length === 0;\n        if (isEmpty) {\n            document.querySelector('.card-img-academic').firstElementChild.style.display = \"none\";\n            $('#card-body-academic-info-text').replaceWith('<p class=\"card-text alert alert-danger\" id =\"card-body-academic-info-text\" >Data not available.</p>');\n        } else {\n\n            const ctx = document.getElementById(\"chart-academic\");\n            if (!ctx) {\n                return;\n            }\n    \n            const performance = JSON.parse(result);\n            let labels = [];\n            let sets = [];\n            let attendance = [];\n            let effort = [];\n            let grades = [];\n            let gradeperterm = [];\n    \n            const TAGS = {\n                avgattendance: 'Average Attendance',\n                avgeffort: 'Average Effort',\n                avggrades: 'Average Grade',\n            }\n    \n            for (let i = 0; i < performance.length; i++) {\n                var p = performance[i];\n    \n                const year = p.details.year.toString();\n                const term = p.details.term.toString();\n    \n                labels.push(['T' + term, year]);\n                gradeperterm.push(p.details.avggrades);\n    \n                grades.push(p.details.avggrades);\n                effort.push(p.details.avgeffort)\n                attendance.push(p.details.avgattendance)\n    \n            }\n    \n            sets.push({\n                label: TAGS.avggrades,\n                data: grades,\n                fill: false,\n                borderColor: '#31326f',\n                backgroundColor: '#31326f',\n                tension: 0.1,\n                spanGaps: true\n            });\n    \n            sets.push({\n                label: TAGS.avgeffort,\n                data: effort,\n                fill: false,\n                borderColor: '#ffc93c',\n                backgroundColor: '#ffc93c',\n                tension: 0.1,\n                spanGaps: true\n            });\n    \n            sets.push({\n                label: TAGS.avgattendance,\n                data: attendance,\n                fill: false,\n                borderColor: '#1687a7',\n                backgroundColor: '#1687a7',\n                tension: 0.1,\n                spanGaps: true\n            });\n    \n    \n            const data = {\n                labels: labels,\n                datasets: sets\n            };\n    \n            const options = {\n                responsive: true,\n                maintainAspectRatio: false,\n    \n            }\n    \n            // remove spinner\n            document.querySelector('.card-img-academic').firstElementChild.style.display = \"none\";\n    \n            new Chart(ctx, {\n                type: 'line',\n                data: data,\n                options: options,\n    \n            });\n        }\n\n    }\n\n    function trendChartPrimary(result) {\n        const ctx = document.getElementById(\"chart-academic\");\n        if (!ctx) {\n            return;\n        }\n\n        const performance = JSON.parse(result);\n\n        let labels = [];\n        let sets = [];\n        let attendance = [];\n        let effort = [];\n        let grades = [];\n\n        const TAGS = {\n            avgattendance: 'Average Attendance',\n            avgeffort: 'Average Effort',\n            avggrades: 'Average Grade',\n        }\n\n        const TAGS_EFFORTS_DESC = {\n            e: 'Excellent (E)',\n            vg: 'Very Good (VG)',\n            avg: 'Average (AVG)',\n            ni: 'Needs Improvement (NI)',\n        }\n\n        const TAGS_GRADES_DESC = {\n            be: 'Below Expectations',\n            gs: 'Good start (GS)',\n            ms: 'Making strides (MS)',\n            grwi: 'Go run with it (GRWI)',\n            ae: 'Above expectations'\n        }\n\n        for (let i = 0; i < performance.length; i++) {\n            var p = performance[i];\n\n            const year = p.details.year.toString();\n            const term = p.details.term.toString();\n\n            labels.push(['T' + term, year]);\n\n            if (p.details.avggrades == null) {\n                p.details.avggrades = undefined;\n            }\n            grades.push(p.details.avggrades);\n\n            if (p.details.effortaverage == null) {\n                p.details.effortaverage = undefined;\n            }\n            effort.push(p.details.effortaverage);\n\n            if (p.details.percentageattended == null) {\n                p.details.percentageattended = undefined;\n            }\n            attendance.push(p.details.percentageattended);\n\n        }\n\n        sets.push({\n            label: TAGS.avggrades,\n            data: grades,\n            fill: false,\n            borderColor: '#31326f',            \n            backgroundColor: '#31326f',\n            tension: 0.1,\n            spanGaps: true\n        });\n\n        sets.push({\n            label: TAGS.avgeffort,\n            data: effort,\n            fill: false,\n            borderColor: '#ffc93c',\n            backgroundColor: '#ffc93c',\n            tension: 0.1,\n            spanGaps: true\n        });\n\n        sets.push({\n            label: TAGS.avgattendance,\n            data: attendance,\n            fill: false,\n            borderColor: '#1687a7',\n            backgroundColor: '#1687a7',\n            tension: 0.1,\n            spanGaps: true\n        });\n\n        const data = {\n            labels: labels,\n            datasets: sets\n        };\n\n        const options = {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n                tooltip: {\n                    callbacks: {\n                        label: function (context) {\n\n                            if (context.dataset.label == TAGS.avggrades) {\n\n                                if (context.parsed.y > 0.00 && context.parsed.y <= 20.00) {\n                                    return TAGS_GRADES_DESC.be;\n                                } else if (context.parsed.y > 20.00 && context.parsed.y <= 40.00) {\n                                    return TAGS_GRADES_DESC.gs\n                                } else if (context.parsed.y > 40.00 && context.parsed.y <= 60.00) {\n                                    return TAGS_GRADES_DESC.ms;\n                                } else if (context.parsed.y > 60.00 && context.parsed.y <= 80.00) {\n                                    return TAGS_GRADES_DESC.grwi;\n                                } else if (context.parsed.y > 80.00) {\n                                    return TAGS_GRADES_DESC.ae\n                                }\n                            }\n                            if (context.dataset.label == TAGS.avgeffort) {\n                                if (parseFloat(context.parsed.y) > 0.00 && parseFloat(context.parsed.y) <= 25.00) {\n                                    return TAGS_EFFORTS_DESC.ni;\n                                } else if (parseFloat(context.parsed.y) > 25.00 && parseFloat(context.parsed.y) <= 50.00) {\n                                    return TAGS_EFFORTS_DESC.avg\n                                } else if (parseFloat(context.parsed.y) > 50.00 && parseFloat(context.parsed.y) < 95.00) {\n                                    return TAGS_EFFORTS_DESC.vg;\n                                } else if (parseFloat(context.parsed.y) >= 95.00) {\n                                    return TAGS_EFFORTS_DESC.e;\n                                }\n                            } else {\n\n                                return context.parsed.y + \"%\";\n                            }\n                        }\n                    }\n                }\n            },\n            scales: {\n                y: {\n                    suggestedMin: 25,\n                    display: true,\n\n                }\n            }\n        }\n\n        /// remove spinner\n        document.querySelector('.card-img-academic').firstElementChild.style.display = \"none\";\n\n        new Chart(ctx, {\n            type: 'line',\n            data: data,\n            options: options,\n        });\n    }\n\n\n    function filterYear() {\n        // Declare variables\n\n        var input, filter, table, tr, td, i, txtValue;\n        input = document.getElementById(\"searchReportInput\");\n        filter = input.value.toUpperCase();\n        table = document.getElementById(\"reports-table\");\n        tr = table.getElementsByTagName(\"tr\");\n\n        // Loop through all table rows, and hide those who don't match the search query\n        for (i = 0; i < tr.length; i++) {\n            td = tr[i].getElementsByTagName(\"td\")[2];\n            if (td) {\n                txtValue = td.textContent || td.innerText;\n                const date = txtValue.split('/').pop()\n                if (date.toUpperCase().indexOf(filter) > -1) {\n                    tr[i].style.display = \"\";\n                } else {\n                    tr[i].style.display = \"none\";\n                }\n            }\n        }\n    }\n\n    function filterByClass(e) {\n        // Declare variables\n        var input, filter, table, tr, td, i, txtValue;\n        const inputid = e.target.id;\n        input = document.getElementById(inputid); //\"searchByClassInput searchByClassGradeInput\"\n        filter = input.value.toUpperCase();\n        table = inputid == \"searchByClassGradeInput\" ? document.getElementById(\"grade-history-table\") : document.getElementById(\"effort-history-table\");\n        tr = table.getElementsByTagName(\"tr\");\n\n        // Loop through all table rows, and hide those who don't match the search query\n        for (i = 1; i < tr.length; i++) {\n            var trclasslist = tr[i].classList;\n            if (trclasslist.contains('reports-heading') || trclasslist.contains('my-student-learning-title')) continue;\n            td = tr[i].getElementsByTagName(\"td\")[0];\n            if (td) {\n                txtValue = td.textContent || td.innerText;\n                // const date = txtValue.split('/').pop()\n                if (txtValue.toUpperCase().indexOf(filter) > -1) {\n                    tr[i].style.display = \"\";\n                } else {\n                    tr[i].style.display = \"none\";\n                }\n            }\n        }\n    }\n\n    function displayReportService(e) {\n        \n        const tdocumentsseq = e.target.getAttribute('data-tdss');\n        Ajax.call([{\n            methodname: 'report_mystudent_get_student_academic_report',\n            args: {\n                tdocumentsseq: tdocumentsseq\n            },\n\n            done: function (response) {\n                const base64Data = JSON.parse(response.blob);\n                displayReport(base64Data);\n            },\n\n            fail: function (reason) {\n                Log.error('block_academic_report_get_student_report: Unable to get blob.');\n                Log.debug(reason);\n            }\n        }]);\n\n\n    };\n\n    async function displayReport(base64Data) {\n        const base64Response = await fetch(`data:application/pdf;base64,${base64Data}`);\n        const blob = await base64Response.blob();\n        var blobURL = URL.createObjectURL(blob);\n        window.open(blobURL);\n    }\n\n    function getGradeHistory() {\n\n        const element = document.querySelector('.cgs-dashboard-academic-info-container');\n        const username = element.getAttribute('data-username');\n        const campus = element.getAttribute('data-campus');\n        // Add spinner.\n        $('#grade-history-tb').removeAttr('hidden');\n\n        Ajax.call([{\n            methodname: 'report_mystudent_get_grade_history',\n            args: {\n                username: username,\n                campus: campus\n            },\n\n            done: function (response) {\n                Log.debug(response);\n                const htmlResult = response.html;\n                $('#grade-history-tb').attr('hidden', true);\n                $('[data-region=\"grade-history-table\"]').replaceWith(htmlResult);\n                //enable expand button\n                $('.pop-up-effort').removeAttr('disabled');\n\n            },\n\n            fail: function (reason) {\n                Log.error('report_mystudent: Unable to get context.');\n                Log.debug(reason);\n                $('#grade-history-tb').attr('hidden', true);\n                $('[data-region=\"grade-history-table\"]').replaceWith('<p class=\"alert alert-danger\">Data not available. Please try later</p>');\n            }\n        }]);\n\n\n    }\n\n    function getEffortHistory() {\n\n        const element = document.querySelector('.cgs-dashboard-academic-info-container');\n        const username = element.getAttribute('data-username');\n        const campus = element.getAttribute('data-campus');\n        // Add spinner.\n        $('#effort-history-tb').removeAttr('hidden');\n\n        Ajax.call([{\n            methodname: 'report_mystudent_get_effort_history',\n            args: {\n                username: username,\n                campus: campus\n            },\n\n            done: function (response) {\n                Log.debug(response);\n                const htmlResult = response.html;\n                $('#effort-history-tb').attr('hidden', true);\n                $('[data-region=\"effort-history-table\"]').replaceWith(htmlResult);\n                $('.pop-up-grade').removeAttr('disabled');\n\n            },\n\n            fail: function (reason) {\n                Log.error('report_mystudent: Unable to get context.');\n                Log.debug(reason);\n                $('#effort-history-tb').attr('hidden', true);\n                $('[data-region=\"effort-history-table\"]').replaceWith('<p class=\"alert alert-danger\">Data not available. Please try later</p>');\n            }\n        }]);\n\n    }\n\n    function getAssign() {\n        const element = document.querySelector('.cgs-dashboard-academic-info-container');\n        const username = element.getAttribute('data-username');\n\n        // Add spinner.\n        $('#assignment-tb').removeAttr('hidden');\n\n        Ajax.call([{\n            methodname: 'report_mystudent_get_assign_context',\n            args: {\n                username: username\n            },\n\n            done: function (response) {\n                const htmlResult = response.html;\n                $('#assignment-tb').attr('hidden', true);\n                $('[data-region=\"assignment-table\"]').replaceWith(htmlResult);\n\n            },\n\n            fail: function (reason) {\n                Log.error('report_mystudent: Unable to get context.');\n                Log.debug(reason);\n                $('#assignment-tb').attr('hidden', true);\n                $('[data-region=\"assignment-table\"]').replaceWith('<p class=\"alert alert-danger\">Data not available. Please try later</p>');\n            }\n        }]);\n\n\n    }\n\n\n    function popup(e) {\n        var container;\n        var modalcontainer;\n        //replace the icon\n        e.target.classList.remove('fa-external-link');\n        e.target.classList.add('fa-window-close');\n        e.target.setAttribute('title', 'Close');\n        Y.log(e);\n\n        if (e.target.classList.contains('pop-up-grade')) {\n            container = document.querySelector('.pop-up-grade').closest('div.cgs-grade-history-container');\n            modalcontainer = container.closest('div.cgs-grade-main-container');\n            document.getElementById('grade-history-table').closest('div.grades-his').classList.add('modal-history-content');\n            modalcontainer.classList.add('modal-history-background');\n            document.querySelector('.pop-up-grade.fa-window-close').addEventListener('click', closePopup);\n            document.querySelector('.pop-up-grade').removeEventListener('click', popup);\n\n\n        } else {\n            container = document.querySelector('.pop-up-effort').closest('div.cgs-effort-history-container');\n            modalcontainer = container.closest('div.cgs-effort-main-container');\n            document.getElementById('effort-history-table').closest('div.effort-his').classList.add('modal-history-content');\n            modalcontainer.classList.add('modal-history-background');\n            document.querySelector('.pop-up-effort.fa-window-close').addEventListener('click', closePopup);\n            document.querySelector('.pop-up-effort').removeEventListener('click', popup);\n        }\n    }\n\n    function closePopup(e) {\n        const gradepopup = e.target.classList.contains('pop-up-grade');\n        const modalcontentdiv = e.target.classList.contains('pop-up-grade') ? e.target.closest(\"div.grades-his\") : e.target.closest(\"div.effort-his\");\n        modalcontentdiv.classList.remove('modal-history-content');\n\n        if (gradepopup) {\n            (modalcontentdiv.closest('.cgs-grade-main-container')).classList.remove('modal-history-background');\n        } else {\n            (modalcontentdiv.closest('.cgs-effort-main-container')).classList.remove('modal-history-background');\n        }\n\n        // Add the listener for the close\n        e.target.classList.add('fa-external-link');\n        e.target.classList.remove('fa-window-close');\n        e.target.setAttribute('title', 'Expand');\n\n        document.querySelector('.pop-up-grade').removeEventListener('click', closePopup);\n        document.querySelector('.pop-up-effort').removeEventListener('click', closePopup);\n        document.querySelector('.pop-up-grade').addEventListener('click', popup);\n        document.querySelector('.pop-up-effort').addEventListener('click', popup);\n    }\n\n\n    // function popupfeedback(e) {\n    //     Y.log(\"popupfeedback\");\n    //     Y.log(e);\n    //     e.target.classList.remove('fa-external-link');\n    //     e.target.classList.add('fa-window-close');\n    //     e.target.setAttribute('title', 'Close');\n\n\n    //     const container = e.target.closest('div.feedbackcomment-modal');\n    //     const containerContact = e.target.closest('div.feedbackcomment-modal-content');\n\n    //     container.classList.add('modal-history-background');\n    //     containerContact.classList.add('modal-history-content');\n    //     containerContact.classList.add('feedbackcomment-modal-content-expanded');\n\n    //     e.target.removeEventListener('click', popupfeedback);\n    //     e.target.addEventListener('click', popupfeedbackclose);\n\n    // }\n\n    // function popupfeedbackclose(e) {\n    //     e.target.classList.add('fa-external-link');\n    //     e.target.classList.remove('fa-window-close');\n    //     e.target.setAttribute('title', 'Open');\n\n    //     const container = e.target.closest('div.feedbackcomment-modal');\n    //     const containerContact = e.target.closest('div.feedbackcomment-modal-content');\n\n\n    //     container.classList.remove('modal-history-background');\n    //     containerContact.classList.remove('modal-history-content');\n    //     containerContact.classList.remove('feedbackcomment-modal-content-expanded');\n\n\n    //     e.target.addEventListener('click', popupfeedback);\n    //     e.target.removeEventListener('click', popupfeedbackclose);\n    // }\n\n    return {\n        init: init\n    }\n});"],"file":"academicinfo.min.js"}